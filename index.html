<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Home</title>
    <link rel="stylesheet" href="CSS/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.0/jquery.min.js"></script>
    <script>
        $(document).ready(function () {
            $("#btnLogin").click(function () {
                var username = $("#username").val();
                var password = $("#password").val();

                var data = {
                    "username": username,
                    "password": password,
                    "grant_type": "password",
                    "client_id": 1,
                    "client_secret": "ucO2ViHGtVRIRMzqyGTmxAVL5HKtFoLYCrqT1uJG"
                }
                jQuery.ajax({
                    url: 'http://localhost:8000/oauth/token',
                    type: 'POST',
                    data: data,

                    success: function (data) {

                        localStorage.setItem("accessToken", data.access_token);
                        location.href = "views/Home.html";
                    },

                    error: function (data) {
                        alert("Credenciales invalidas");
                    }

                });
            });
        }); 
    </script>
</head>

<body>

    <a href="views/Register.html">Register</a>
    <div id="login">
        Usuario: <input type="text" name="username" id="username"> <br>
        Password: <input type="password" name="password" id="password"> <br>
        <button id="btnLogin">Login</button>
    </div>


    <script src="JS/bootstrap.min.js"></script>
</body>

</html>